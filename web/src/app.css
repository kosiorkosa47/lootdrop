@import 'tailwindcss';

/*
 * LootDrop — Material Design 3 (Material You) Theme
 * Seed color: Purple #6750A4
 * Dark theme is default; light via .light-mode on body
 */

/* ── MD3 Color Tokens (Dark — default) ──────────────────────────── */
:root {
	--md-sys-color-primary: #D0BCFF;
	--md-sys-color-on-primary: #381E72;
	--md-sys-color-primary-container: #4F378B;
	--md-sys-color-on-primary-container: #EADDFF;
	--md-sys-color-secondary: #CCC2DC;
	--md-sys-color-on-secondary: #332D41;
	--md-sys-color-secondary-container: #4A4458;
	--md-sys-color-on-secondary-container: #E8DEF8;
	--md-sys-color-tertiary: #EFB8C8;
	--md-sys-color-tertiary-container: #633B48;
	--md-sys-color-surface: #141218;
	--md-sys-color-on-surface: #E6E0E9;
	--md-sys-color-surface-variant: #49454F;
	--md-sys-color-on-surface-variant: #CAC4D0;
	--md-sys-color-outline: #938F99;
	--md-sys-color-outline-variant: #49454F;
	--md-sys-color-surface-container-lowest: #0F0D13;
	--md-sys-color-surface-container-low: #1D1B20;
	--md-sys-color-surface-container: #211F26;
	--md-sys-color-surface-container-high: #2B2930;
	--md-sys-color-surface-container-highest: #36343B;
	--md-sys-color-error: #F2B8B5;
	--md-sys-color-on-error: #601410;
	--md-sys-color-inverse-surface: #E6E0E9;
	--md-sys-color-inverse-on-surface: #322F35;
	--md-sys-color-scrim: #000000;

	/* Safe area insets */
	--sat: env(safe-area-inset-top, 0px);
	--sar: env(safe-area-inset-right, 0px);
	--sab: env(safe-area-inset-bottom, 0px);
	--sal: env(safe-area-inset-left, 0px);
	--nav-bar-height: 64px;

	/* MD3 Shape scale */
	--md-sys-shape-corner-none: 0px;
	--md-sys-shape-corner-extra-small: 4px;
	--md-sys-shape-corner-small: 8px;
	--md-sys-shape-corner-medium: 12px;
	--md-sys-shape-corner-large: 16px;
	--md-sys-shape-corner-extra-large: 28px;
	--md-sys-shape-corner-full: 9999px;

	/* MD3 Elevation (surface tint overlay opacity) */
	--md-sys-elevation-1: 0.05;
	--md-sys-elevation-2: 0.08;
	--md-sys-elevation-3: 0.11;
	--md-sys-elevation-4: 0.12;
	--md-sys-elevation-5: 0.14;
}

/* ── MD3 Color Tokens (Light) ───────────────────────────────────── */
body.light-mode {
	--md-sys-color-primary: #6750A4;
	--md-sys-color-on-primary: #FFFFFF;
	--md-sys-color-primary-container: #EADDFF;
	--md-sys-color-on-primary-container: #21005D;
	--md-sys-color-secondary: #625B71;
	--md-sys-color-on-secondary: #FFFFFF;
	--md-sys-color-secondary-container: #E8DEF8;
	--md-sys-color-on-secondary-container: #1D192B;
	--md-sys-color-tertiary: #7D5260;
	--md-sys-color-tertiary-container: #FFD8E4;
	--md-sys-color-surface: #FEF7FF;
	--md-sys-color-on-surface: #1D1B20;
	--md-sys-color-surface-variant: #E7E0EC;
	--md-sys-color-on-surface-variant: #49454F;
	--md-sys-color-outline: #79747E;
	--md-sys-color-outline-variant: #C4C0C9;
	--md-sys-color-surface-container-lowest: #FFFFFF;
	--md-sys-color-surface-container-low: #F7F2FA;
	--md-sys-color-surface-container: #F3EDF7;
	--md-sys-color-surface-container-high: #ECE6F0;
	--md-sys-color-surface-container-highest: #E6E0E9;
	--md-sys-color-error: #B3261E;
	--md-sys-color-on-error: #FFFFFF;
	--md-sys-color-inverse-surface: #322F35;
	--md-sys-color-inverse-on-surface: #F5EFF7;
	--md-sys-color-scrim: #000000;
}

/* ── Tailwind theme bridge ──────────────────────────────────────── */
@theme {
	--color-primary: var(--md-sys-color-primary);
	--color-on-primary: var(--md-sys-color-on-primary);
	--color-primary-container: var(--md-sys-color-primary-container);
	--color-on-primary-container: var(--md-sys-color-on-primary-container);
	--color-secondary: var(--md-sys-color-secondary);
	--color-on-secondary: var(--md-sys-color-on-secondary);
	--color-secondary-container: var(--md-sys-color-secondary-container);
	--color-on-secondary-container: var(--md-sys-color-on-secondary-container);
	--color-tertiary: var(--md-sys-color-tertiary);
	--color-tertiary-container: var(--md-sys-color-tertiary-container);
	--color-surface: var(--md-sys-color-surface);
	--color-on-surface: var(--md-sys-color-on-surface);
	--color-surface-variant: var(--md-sys-color-surface-variant);
	--color-on-surface-variant: var(--md-sys-color-on-surface-variant);
	--color-outline: var(--md-sys-color-outline);
	--color-outline-variant: var(--md-sys-color-outline-variant);
	--color-surface-container-lowest: var(--md-sys-color-surface-container-lowest);
	--color-surface-container-low: var(--md-sys-color-surface-container-low);
	--color-surface-container: var(--md-sys-color-surface-container);
	--color-surface-container-high: var(--md-sys-color-surface-container-high);
	--color-surface-container-highest: var(--md-sys-color-surface-container-highest);
	--color-error: var(--md-sys-color-error);
	--color-on-error: var(--md-sys-color-on-error);
	--color-inverse-surface: var(--md-sys-color-inverse-surface);
	--color-inverse-on-surface: var(--md-sys-color-inverse-on-surface);
	--color-scrim: var(--md-sys-color-scrim);
	--color-success: #4CAF50;
}

/* ── Base styles ────────────────────────────────────────────────── */
html {
	font-size: 16px;
	-webkit-text-size-adjust: 100%;
	font-family: 'Roboto', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	-webkit-tap-highlight-color: transparent;
	touch-action: manipulation;
	overscroll-behavior: none;
}

body {
	margin: 0;
	padding: 0;
	min-height: 100dvh;
	overflow-x: hidden;
	background-color: var(--md-sys-color-surface);
	color: var(--md-sys-color-on-surface);
}

/* Prevent text selection on interactive elements */
button, a, [role="button"] {
	-webkit-user-select: none;
	user-select: none;
}

/* Thin scrollbar */
::-webkit-scrollbar {
	width: 4px;
}
::-webkit-scrollbar-track {
	background: transparent;
}
::-webkit-scrollbar-thumb {
	background: var(--md-sys-color-outline);
	border-radius: 2px;
}

/* Pull-to-refresh container */
.ptr-container {
	overscroll-behavior-y: contain;
}

/* ── Animation keyframes (Material motion) ──────────────────────── */
@keyframes slide-up {
	from { transform: translateY(12px); opacity: 0; }
	to { transform: translateY(0); opacity: 1; }
}

@keyframes fade-in {
	from { opacity: 0; }
	to { opacity: 1; }
}

@keyframes spin {
	to { transform: rotate(360deg); }
}

@keyframes md3-circular-progress {
	0% { stroke-dasharray: 1, 200; stroke-dashoffset: 0; }
	50% { stroke-dasharray: 89, 200; stroke-dashoffset: -35; }
	100% { stroke-dasharray: 89, 200; stroke-dashoffset: -124; }
}

/* ── Responsive typography ─────────────────────────────────────── */
h1 {
	font-size: clamp(1.5rem, 5vw, 1.875rem);
}

h2 {
	font-size: clamp(1.125rem, 4vw, 1.25rem);
}

/* ── Material ripple utility ───────────────────────────────────── */
.md-ripple {
	position: relative;
	overflow: hidden;
}

.md-ripple::after {
	content: '';
	position: absolute;
	inset: 0;
	background: radial-gradient(circle, currentColor 10%, transparent 10.01%) no-repeat 50%;
	transform: scale(10);
	opacity: 0;
	transition: transform 0.4s, opacity 0.8s;
}

.md-ripple:active::after {
	transform: scale(0);
	opacity: 0.12;
	transition: 0s;
}
